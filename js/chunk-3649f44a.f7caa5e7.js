(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3649f44a"],{6519:function(e,t,a){"use strict";var o=a("8bfe"),n=a.n(o);n.a},"8bfe":function(e,t,a){},a55b:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("myHead"),a("h1",[e._v("登录")]),a("div",{staticClass:"denglu-input"},[a("mt-field",{attrs:{placeholder:"用户名"},model:{value:e.ruleForm.username,callback:function(t){e.$set(e.ruleForm,"username",t)},expression:"ruleForm.username"}}),a("mt-field",{attrs:{placeholder:"请输入密码",type:"password"},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}},[a("p",[e._v("忘记密码")])])],1),a("span",[e._v(e._s(e.dengluCheck))]),a("div",{staticClass:"denglubtn"},[a("mt-button",{attrs:{type:"danger",size:"large"},nativeOn:{"!click":function(t){return e.denglu(e.ruleForm.username,e.ruleForm.password)}}},[e._v("登录")])],1),a("div",{staticClass:"reg",on:{click:function(t){return e.goto("/reg")}}},[e._v("新用户注册")])],1)},n=[],r=(a("f763"),a("34a3"),a("0857"),a("7364"),a("6e6d")),s=a("660a"),u=a("307b"),l=a("7eeb"),c=a.n(l);r["default"].component(s["Button"].name,s["Button"]),r["default"].component(s["Field"].name,s["Field"]);var i={name:"login",data:function(){return{ruleForm:{password:"",username:""},dengluCheck:""}},methods:{goto:function(e){this.$router.push(e)},denglu:function(e,t){var a=this,o=(localStorage.getItem("Authorization"),"laoxie1234567890"),n="laoxielaoxie6666";o=c.a.enc.Utf8.parse(o),n=c.a.enc.Utf8.parse(n);var r=c.a.AES.encrypt(t,o,{iv:n});t=r.toString(),this.$axios.get("/login",{params:{uname:e,password:t}}).then(function(t){var o=t.data;if(200===o.status){if("string"===typeof o.data){var n=o.data;localStorage.setItem("Authorization",n),localStorage.uname=e,a.$store.commit("login",n)}a.dengluCheck="";var r=a.ruleForm.username;a.$store.commit("changeuser",r),a.$store.commit("changeDenglu",!1),a.$router.replace("/mine"),a.$store.commit("removeGoods"),a.$axios.get("/cart",{params:{uname:e}}).then(function(e){var t=e.data;200===t.status?(console.log("111:",t.data),t.data.forEach(function(e){a.$store.commit("add2cart",e)})):400==t.status&&console.log("400")})}else a.dengluCheck="用户名或密码错误"})}},components:{myHead:u["default"]}},m=i,d=(a("6519"),a("17cc")),p=Object(d["a"])(m,o,n,!1,null,"4ea5255e",null);t["default"]=p.exports}}]);
//# sourceMappingURL=chunk-3649f44a.f7caa5e7.js.map